import{_ as D}from"./C9SN5juO.js";import R from"./C7gSzwL8.js";import{f as z,k as y,l as q,m as A,c,g as I,n as b,o as d,a as m,q as M,v as O,h as t,s as j,b as _,w as C,x as B,t as P,j as E,d as F,F as $,r as H}from"./EPCG04oJ.js";import L from"./CYEYkQQJ.js";import{u as Q,q as U}from"./BWGfAMvX.js";import{u as G}from"./C5tat5_d.js";import"./DwMXgyGo.js";import"./Dgt50E7s.js";import"./DWzCaneX.js";import"./BsYmvPZw.js";import"./nsGxwT8s.js";import"./CvPl5tTm.js";const J=Symbol.for("nuxt:client-only"),K=z({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(S,{slots:a,attrs:f}){const n=y(!1);return q(()=>{n.value=!0}),A(J,!0),l=>{var r;if(n.value)return(r=a.default)==null?void 0:r.call(a);const e=a.fallback||a.placeholder;if(e)return e();const p=l.fallback||l.placeholder||"",g=l.fallbackTag||l.placeholderTag||"span";return c(g,f,p)}}}),W={class:"py-5 px-4"},X=m("h1",{class:"text-2xl font-semibold py-5"},"所有貼文",-1),Y={class:"mb-4"},Z={key:0},ee={key:1},te={key:0,class:"flex justify-center items-center space-x-6"},ae=["disabled"],ne=["disabled"],ge=z({__name:"index",async setup(S){let a,f;const n=y(""),l=y(5),e=y(1),{data:p}=([a,f]=I(()=>Q("allBlogs",()=>U("/blogs").sort({date:-1}).find())),a=await a,f(),a),g=b(()=>{var i;const o=new RegExp(n.value,"i");return n.value.trim()===""?p.value:(i=p.value)==null?void 0:i.filter(u=>o.test(u.title||""))}),r=b(()=>{var o;return Math.ceil((((o=g.value)==null?void 0:o.length)||0)/l.value)});function N(){e.value>1&&(e.value-=1)}function V(){e.value<r.value&&(e.value+=1)}const k=b(()=>{var o;return((o=g.value)==null?void 0:o.filter((i,u)=>{const h=(e.value-1)*l.value,x=h+l.value-1;return u>=h&&u<=x}))||[]});return G({title:"Blog",meta:[{name:"description",content:"文章列表"}],titleTemplate:"Snow's Blog - %s"}),(o,i)=>{var w;const u=D,h=R,x=K,T=L;return d(),c("div",W,[X,m("div",Y,[M(m("input",{"onUpdate:modelValue":i[0]||(i[0]=v=>j(n)?n.value=v:null),placeholder:"請搜尋文章標題..",type:"text",class:"block w-full p-2 border rounded-md focus:border-gray-300 focus:ring focus:ring-gray-200 focus:ring-opacity-50"},null,512),[[O,t(n)]])]),_(x,null,{fallback:C(()=>[F(" 文章讀取中... ")]),default:C(()=>{var v;return[((v=t(k))==null?void 0:v.length)!==0?(d(),c("ul",Z,[(d(!0),c($,null,H(t(k),s=>(d(),c("li",{key:s._id},[_(h,{value:s},{default:C(()=>[_(u,{path:s._path,title:s.title,date:s.date,description:s.description,image:s.image,tags:s.tags},null,8,["path","title","date","description","image","tags"])]),_:2},1032,["value"])]))),128))])):(d(),c("div",ee," 沒有文章 "))]}),_:1}),((w=t(k))==null?void 0:w.length)!==0?(d(),c("div",te,[m("button",{disabled:t(e)<=1,onClick:N},[_(T,{name:"mdi:code-less-than",size:"30",class:B({"text-sky-700 dark:text-sky-400":t(e)>1})},null,8,["class"])],8,ae),m("p",null,P(t(e))+" / "+P(t(r)),1),m("button",{disabled:t(e)>=t(r),onClick:V},[_(T,{name:"mdi:code-greater-than",size:"30",class:B({"text-sky-700 dark:text-sky-400":t(e)<t(r)})},null,8,["class"])],8,ne)])):E("",!0)])}}});export{ge as default};
